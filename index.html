<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Abdullah ðŸ’—</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  text-align:center;
  background:linear-gradient(180deg,#ffd6e7,#fff0f6);
}

h1{margin-top:60px;}

img{
  width:210px;
  border-radius:18px;
  margin-top:25px;
}

.btn{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  position:absolute;
}

#yes{background:#ff4d6d;color:white;left:34%;}
#no{background:#999;color:white;left:55%;}

.letter{
  max-width:720px;
  margin:80px auto;
  font-size:18px;
  line-height:2;
  padding:20px;
  text-align:left;
}

.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color:white;
  opacity:0;
  transition:opacity 1.5s ease;
}

.fade{opacity:0;transition:1.5s;}
.show{opacity:1;}

@keyframes fall{
  to{transform:translateY(100vh);opacity:0;}
}
</style>
</head>

<body>

<h1>Abdullah Mohammed Ahmed Bafadel,<br>will you be my Valentine? ðŸ’•</h1>
<img src="abody.jpg">

<button id="yes" class="btn">Yes ðŸ’–</button>
<button id="no" class="btn">No</button>

<audio id="music" loop>
  <source src="romantis.mp3" type="audio/mpeg">
</audio>

<audio id="confettiSound">
  <source src="confetti" type="audio/mpeg">
</audio>

<script>
const whatsapp="https://wa.me/6287798652617?text=I%20choose%20you%20â¤ï¸";
const yesBtn=document.getElementById("yes");
const noBtn=document.getElementById("no");
const music=document.getElementById("music");
const confettiSound=document.getElementById("confettiSound");

let scale=1;

noBtn.addEventListener("click",()=>{
  const x=Math.random()*window.innerWidth*0.8;
  const y=Math.random()*window.innerHeight*0.8;
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
  scale+=0.25;
  yesBtn.style.transform=`scale(${scale})`;
});

yesBtn.addEventListener("click",()=>{

  document.body.innerHTML=`
  <div class="letter">
    <h1 style="text-align:center">For Abdullah ðŸ’—</h1>
    <div id="type"></div>
  </div>

  <div id="overlay" class="overlay">
    <p id="l1" class="fade">And if you still choose me...</p>
    <h2 id="big" class="fade">Will you be my Valentine? ðŸ’•</h2>
    <button id="finalYes" class="fade"
      style="margin-top:20px;padding:15px 35px;font-size:22px;
      border:none;border-radius:14px;background:#ff4d6d;color:white;cursor:pointer;">
      YES ðŸ’–
    </button>
  </div>
  `;

  music.play();

  const text = `
Dear My love of my life,<br><br>
To you, standing far away from me, separated by thousands of kilometers,
yet somehow living in every beat of my heart.<br><br>
Thank you for staying with me this far.
Thank you for loving me while knowing I am far from perfect.<br><br>
I'm sorry I havenâ€™t become the version of myself that you truly deserve.
I'm sorry if my love still feels smaller than what you give to me.<br><br>
Through every storm, you stay.<br><br>
Thank you.<br>
From the deepest part of my heart, thank you.<br><br>
You are, and will always be,
the most beautiful gift I have ever received.<br><br>
Your Baby ðŸ’—
`;

  const target=document.getElementById("type");
  let i=0;

  function typeWriter(){
    if(i<text.length){

      // ðŸ”¥ kalau ketemu <br> â†’ langsung masukkan
      if(text.substring(i,i+4)==="<br>"){
        target.innerHTML+="<br>";
        i+=4;
      } else {
        target.innerHTML+=text.charAt(i);
        i++;
      }

      setTimeout(typeWriter,35);

    } else {
      setTimeout(showOverlay,2000);
    }
  }

  function showOverlay(){
    const overlay=document.getElementById("overlay");
    overlay.style.opacity=1;
    setTimeout(()=>document.getElementById("l1").classList.add("show"),2000);
    setTimeout(()=>document.getElementById("big").classList.add("show"),5000);
    setTimeout(()=>document.getElementById("finalYes").classList.add("show"),8000);
  }

  typeWriter();

  document.addEventListener("click",e=>{
    if(e.target && e.target.id==="finalYes"){
      confettiSound.play();
      for(let i=0;i<120;i++){
        const c=document.createElement("div");
        c.innerHTML="ðŸŽ‰";
        c.style.position="fixed";
        c.style.left=Math.random()*100+"vw";
        c.style.top="-10px";
        c.style.fontSize=(Math.random()*20+10)+"px";
        c.style.animation="fall "+(Math.random()*2+2)+"s linear forwards";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(),4000);
      }
      setTimeout(()=>window.location.href=whatsapp,2000);
    }
  });
});
</script>

</body>
</html>
